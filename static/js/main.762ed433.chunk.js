(this["webpackJsonpreact_dynamic-list-of-posts"]=this["webpackJsonpreact_dynamic-list-of-posts"]||[]).push([[0],{10:function(e,t,n){},11:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(4),r=n.n(s),o=n(2),m=n(1),l=(n(10),function(e){var t=e.comment,n=t.body,a=t.name,s=t.email;return c.a.createElement("li",{className:"posts__comments-item"},c.a.createElement("p",null,n),c.a.createElement("span",{className:"posts__comments-item-info"},"name:"," ",a),c.a.createElement("span",{className:"posts__comments-item-info"},"email:"," ",s))}),i=function(e){var t=e.comments;return c.a.createElement(c.a.Fragment,null,"Comments:",c.a.createElement("ul",{className:"posts__comments-list"},t.map((function(e){return c.a.createElement(l,{key:e.id,comment:e})}))))},u=function(e){var t=e.post,n=t.id,a=t.title,s=t.body,r=t.user,o=t.comments;return c.a.createElement("li",{className:"posts__item"},c.a.createElement("article",null,c.a.createElement("header",{className:"posts__item-title"},a),c.a.createElement("span",{className:"posts__item-info"},"id:"," ",n),c.a.createElement("span",{className:"posts__item-info"},"author:"," ",r?r.name:"unknown"),c.a.createElement("p",{className:"posts__item-text"},s),o&&c.a.createElement(i,{comments:o})))},p=function(e){var t=e.posts;return c.a.createElement("ul",{className:"posts__list"},t.map((function(e){return c.a.createElement(u,{key:e.id,post:e})})))},f="https://jsonplaceholder.typicode.com",_=function(e){var t=e.searchFilter,n=e.posts,s=Object(a.useState)(""),r=Object(m.a)(s,2),o=r[0],l=r[1],i=function(e){var n=e.currentTarget.value;l(n),t(o)};return c.a.createElement("div",{className:"posts__search"},"Search (results:",n.length,")",c.a.createElement("input",{className:"posts__search-input",type:"text",value:o,onChange:function(e){return i(e)},onKeyUp:function(e){return i(e)}}))};var d=function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(!1),l=Object(m.a)(r,2),i=l[0],u=l[1],d=Object(a.useState)(!1),E=Object(m.a)(d,2),h=E[0],b=E[1],j=Object(a.useState)(""),v=Object(m.a)(j,2),y=v[0],N=v[1],O=Object(a.useState)(""),g=Object(m.a)(O,2),S=g[0],k=g[1],w=function(e,t){var n;return function(){for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];n&&clearTimeout(n),n=setTimeout((function(){e.apply(void 0,c)}),t)}}((function(e){k(e)}),500),x=n.filter((function(e){if(S){var t=new RegExp(S);return e.title.match(t)||e.body.match(t)}return e}));return c.a.createElement("div",{className:"posts"},!h&&c.a.createElement("button",{className:"posts__button",type:"button",onClick:function(){u(!0),Promise.all([fetch("".concat(f,"/posts")).then((function(e){return e.json()})),fetch("".concat(f,"/users")).then((function(e){return e.json()})),fetch("".concat(f,"/comments")).then((function(e){return e.json()}))]).then((function(e){var t=Object(m.a)(e,3),n=t[0],a=t[1],c=t[2],r=n.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{user:a.find((function(t){return t.id===e.userId})),comments:c.filter((function(t){return t.postId===e.id}))})}));s(r),u(!1),b(!0),N("")})).catch((function(e){N("Error occur: ".concat(e.message,". Please try again later")),u(!1)}))},disabled:i},i?"Loading...":"Load"),y&&c.a.createElement("div",{className:"posts__error"},y),h&&c.a.createElement(c.a.Fragment,null,c.a.createElement(_,{searchFilter:w,posts:x}),c.a.createElement(p,{posts:x})))};r.a.render(c.a.createElement(d,null),document.getElementById("root"))},5:function(e,t,n){e.exports=n(11)}},[[5,1,2]]]);
//# sourceMappingURL=main.762ed433.chunk.js.map