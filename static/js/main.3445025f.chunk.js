(this["webpackJsonpreact_dynamic-list-of-posts"]=this["webpackJsonpreact_dynamic-list-of-posts"]||[]).push([[0],{11:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),c=n(4),r=n.n(c),o=n(2),m=n(1),l=(n(11),n(5)),i=n.n(l),u=function(e){var t=e.comment,n=t.body,a=t.name,c=t.email;return s.a.createElement("li",{className:"posts__comments-item"},s.a.createElement("p",null,n),s.a.createElement("span",{className:"posts__comments-item-info"},"name:"," ",a),s.a.createElement("span",{className:"posts__comments-item-info"},"email:"," ",c))},p=function(e){var t=e.comments;return s.a.createElement(s.a.Fragment,null,"Comments:",s.a.createElement("ul",{className:"posts__comments-list"},t.map((function(e){return s.a.createElement(u,{comment:e})}))))},f=function(e){var t=e.post,n=t.id,a=t.title,c=t.body,r=t.user,o=t.comments;return s.a.createElement("li",{className:"posts__item"},s.a.createElement("article",null,s.a.createElement("header",{className:"posts__item-title"},a),s.a.createElement("span",{className:"posts__item-info"},"id:"," ",n),s.a.createElement("span",{className:"posts__item-info"},"author:"," ",r?r.name:"unknown"),s.a.createElement("p",{className:"posts__item-text"},c),o&&s.a.createElement(p,{comments:o})))},_=function(e){var t=e.posts;return s.a.createElement("ul",{className:"posts__list"},t.map((function(e){return s.a.createElement(f,{key:e.id,post:e})})))},d="https://jsonplaceholder.typicode.com",E=function(e){var t=e.postsSearchFilter,n=e.posts,c=Object(a.useState)(""),r=Object(m.a)(c,2),o=r[0],l=r[1],i=function(e){var n=e.currentTarget.value;l(n),t(o)};return s.a.createElement("div",{className:"posts__search"},"Search (results:",n.length,")",s.a.createElement("input",{className:"posts__search-input",type:"text",value:o,onChange:function(e){return i(e)},onKeyUp:function(e){return i(e)}}))},b=function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),l=Object(m.a)(r,2),u=l[0],p=l[1],f=Object(a.useState)(!1),b=Object(m.a)(f,2),h=b[0],j=b[1],v=Object(a.useState)(!1),N=Object(m.a)(v,2),O=N[0],y=N[1],g=i.a.debounce((function(e){if(""===e)c(u);else{var t=new RegExp(e);c(u.filter((function(e){return e.title.match(t)||e.body.match(t)})))}}),300);return s.a.createElement("div",{className:"posts"},!O&&s.a.createElement("button",{className:"posts__button",type:"button",onClick:function(){j(!0);var e=fetch("".concat(d,"/posts")).then((function(e){return e.json()})),t=fetch("".concat(d,"/users")).then((function(e){return e.json()})),n=fetch("".concat(d,"/comments")).then((function(e){return e.json()}));Promise.all([e,t,n]).then((function(e){var t=Object(m.a)(e,3),n=t[0],a=t[1],s=t[2],r=n.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{user:a.find((function(t){return t.id===e.userId})),comments:s.filter((function(t){return t.postId===e.id}))})}));c(r),p(r),j(!1),y(!0)}))},disabled:h},h?"Loading...":"Load"),O&&s.a.createElement(s.a.Fragment,null,s.a.createElement(E,{postsSearchFilter:g,posts:n}),s.a.createElement(_,{posts:n})))};r.a.render(s.a.createElement(b,null),document.getElementById("root"))},6:function(e,t,n){e.exports=n(14)}},[[6,1,2]]]);
//# sourceMappingURL=main.3445025f.chunk.js.map